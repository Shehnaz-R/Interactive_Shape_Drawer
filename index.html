<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shape Drawer</title>
  <style>
    body {
      margin: 0;
      background: #120010;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }
    #controls {
      position: absolute;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
    }
    select {
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      outline: none;
      font-size: 14px;
    }
    #shapeName {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;
      font-weight: bold;
      color: #fff;
      text-shadow: 0 0 10px rgba(255,255,255,0.6);
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <div id="controls">
    <select id="shapeSelect"></select>
  </div>

  <canvas id="Canvas"></canvas>
  <div id="shapeName">Butterfly</div>

  <script>
  const { PI: Ï€, E: e, sin, cos, pow, exp, abs } = Math;
  let c = document.getElementById("Canvas");
  let ctx = c.getContext("2d");
  let W, H;

  const setSize = () => {
    c.width = window.innerWidth;
    c.height = window.innerHeight;
    W = c.width;
    H = c.height;
  };
  window.onresize = setSize;
  setSize();

  let Î¸ = 0, fc = 0, x = 0, y = 0, tempx = 0, tempy = 0;
  let currentShape = "butterfly";

  // ðŸ“¦ Dictionary of 20 shapes
  const shapes = {
    butterfly: (Î¸) => {
      let r = exp(sin(Î¸)) - 2 * cos(4 * Î¸) + pow(sin((2 * Î¸ - Ï€) / 24), 5);
      r *= 90;
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    circle: (Î¸) => ({ x: 150 * cos(Î¸), y: 150 * sin(Î¸) }),
    heart: (Î¸) => {
      const r = 10;
      return {
        x: 16 * pow(sin(Î¸), 3) * r,
        y: -(13 * cos(Î¸) - 5 * cos(2*Î¸) - 2 * cos(3*Î¸) - cos(4*Î¸)) * r
      };
    },
    spiral: (Î¸) => ({ x: Î¸ * 4 * cos(Î¸), y: Î¸ * 4 * sin(Î¸) }),
    lissajous: (Î¸) => ({ x: 200 * sin(3*Î¸ + Ï€/2), y: 150 * sin(2*Î¸) }),
    rose: (Î¸) => {
      const k = 5;
      const r = 200 * cos(k * Î¸);
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    lemniscate: (Î¸) => {
      const a = 200;
      const r = a * cos(2*Î¸);
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    cardioid: (Î¸) => {
      const a = 150;
      const r = a * (1 - cos(Î¸));
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    star: (Î¸) => {
      const R = 200, r = 80;
      return { x: (R + r) * cos(Î¸) - r * cos((R/r + 1) * Î¸),
               y: (R + r) * sin(Î¸) - r * sin((R/r + 1) * Î¸) };
    },
    ellipse: (Î¸) => ({ x: 200 * cos(Î¸), y: 120 * sin(Î¸) }),

    // ðŸ”¥ New shapes
    hypotrochoid: (Î¸) => {  // spirograph-like
      const R = 200, r = 60, d = 100;
      return {
        x: (R-r) * cos(Î¸) + d * cos(((R-r)/r) * Î¸),
        y: (R-r) * sin(Î¸) - d * sin(((R-r)/r) * Î¸)
      };
    },
    epitrochoid: (Î¸) => {
      const R = 100, r = 30, d = 80;
      return {
        x: (R+r) * cos(Î¸) - d * cos(((R+r)/r) * Î¸),
        y: (R+r) * sin(Î¸) - d * sin(((R+r)/r) * Î¸)
      };
    },
    astroid: (Î¸) => {
      const a = 200;
      return { x: a * pow(cos(Î¸), 3), y: a * pow(sin(Î¸), 3) };
    },
    nephroid: (Î¸) => {
      const a = 100;
      return { x: a * (3*cos(Î¸) - cos(3*Î¸)), y: a * (3*sin(Î¸) - sin(3*Î¸)) };
    },
    folium: (Î¸) => {
      const a = 200;
      const denom = 1 + pow(sin(Î¸), 3);
      const r = a * cos(Î¸) * sin(Î¸) / denom;
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    clover: (Î¸) => {
      const r = 200 * sin(2*Î¸);
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    eightCurve: (Î¸) => {
      const a = 150;
      return { x: a * sin(Î¸), y: a * sin(Î¸) * cos(Î¸) };
    },
    deltoid: (Î¸) => {
      const a = 100;
      return {
        x: 2*a*cos(Î¸) + a*cos(2*Î¸),
        y: 2*a*sin(Î¸) - a*sin(2*Î¸)
      };
    },
    teardrop: (Î¸) => {
      const r = 150 * (1 - cos(Î¸));
      return { x: r * cos(Î¸), y: r * sin(Î¸) };
    },
    polygon: (Î¸) => { // approximates polygonal edges
      const sides = 6;
      const r = 200;
      return { x: r * cos(Math.round(Î¸/(2*Ï€/sides)) * 2*Ï€/sides),
               y: r * sin(Math.round(Î¸/(2*Ï€/sides)) * 2*Ï€/sides) };
    }
  };

  // Populate dropdown automatically
  const select = document.getElementById("shapeSelect");
  Object.keys(shapes).forEach(name => {
    const opt = document.createElement("option");
    opt.value = name;
    opt.text = name.charAt(0).toUpperCase() + name.slice(1);
    select.appendChild(opt);
  });
  select.value = "butterfly";

  // Dropdown event
  select.onchange = (e) => {
    currentShape = e.target.value;
    document.getElementById("shapeName").innerText = e.target.options[e.target.selectedIndex].text;
    ctx.clearRect(0, 0, W, H);
    Î¸ = 0; fc = 0; x = 0; y = 0;
  };

  function animate() {
    ctx.save();
    ctx.translate(W/2, H/2);
    ctx.strokeStyle = `hsl(${fc % 360}, 100%, 70%)`;

    tempx = x; tempy = y;
    const p = shapes[currentShape](Î¸);
    x = p.x;
    y = p.y;

    if(fc > 0){
      ctx.beginPath();
      ctx.moveTo(tempx, tempy);
      ctx.lineTo(x, y);
      ctx.stroke();
    }

    ctx.restore();

    Î¸ += 0.02;
    fc++;
    requestAnimationFrame(animate);
  }

  animate();
  </script>
</body>
</html>
